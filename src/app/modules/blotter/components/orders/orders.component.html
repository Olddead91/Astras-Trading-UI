<nz-table *ngIf="displayOrders$ | async as orders" #nzTable [nzData]="orders"
  #nzTableComponent
  nzTableLayout="fixed"
  nzSize="small"
  [nzFrontPagination]="false"
  [nzShowPagination]="false">
  <thead>
    <tr>
      <th nzCustomFilter>
        Номер
        <nz-filter-trigger [(nzVisible)]="getFilter().idMenuVisible" [nzActive]="!!searchFilter" [nzDropdownMenu]="menu">
          <i nz-icon nzType="search"></i>
        </nz-filter-trigger>
      </th>
      <th nzCustomFilter>
        Тикер
        <nz-filter-trigger [(nzVisible)]="getFilter().symbolMenuVisible" [nzActive]="!!searchFilter" [nzDropdownMenu]="menu">
          <i nz-icon nzType="search"></i>
        </nz-filter-trigger>
      </th>
      <th>Сторона</th>
      <th>Статус</th>
      <th>Цена</th>
      <th>Кол-во</th>
      <th>
        <span>
          <a nz-popconfirm
            nzPopconfirmTitle="Точно отменить?"
            nzOkText="Да"
            nzCancelText="Нет"
            (nzOnConfirm)="cancelAllOrders()">Снять все</a>
        </span>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let ord of nzTable.data">
      <td>{{ ord.id }}</td>
      <td>{{ ord.symbol }}</td>
      <td>{{ ord.side }}</td>
      <td>{{ ord.status }}</td>
      <td>{{ ord.price }}</td>
      <td>{{ ord.qty }}</td>
      <td>
        <a *ngIf='ord.status == "working"' nz-popconfirm
          nzPopconfirmTitle="Точно отменить?"
          nzOkText="Да"
          nzCancelText="Нет"
          (nzOnConfirm)="cancelOrder(ord.id)">Отменить</a>
      </td>
    </tr>
  </tbody>
</nz-table>
<nz-dropdown-menu #menu="nzDropdownMenu">
  <div class="ant-table-filter-dropdown">
    <div class="search-box" *ngIf='getFilter().idMenuVisible'>
      <input class='ant-input'  type="text" nz-input placeholder="Поиск по тикеру"
        [ngModel]='getFilter().symbol'
        (ngModelChange)="filterChange($event, 'symbol')"/>
    </div>
    <div class="search-box" *ngIf='getFilter().symbolMenuVisible'>
      <input class='ant-input'  type="text" nz-input placeholder="Поиск по тикеру"
        [ngModel]='getFilter().symbol'
        (ngModelChange)="filterChange($event, 'symbol')"/>
    </div>
  </div>
  <button nz-button nzSize="small" (click)="reset()">Сбросить</button>
</nz-dropdown-menu>
